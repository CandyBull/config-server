let jsonexport = require('jsonexport')
const util = require('util')

let json2csv = util.promisify(jsonexport)
// async function test(){
//   let s = await json2csv([{"day":"2018-06-01","data":{"withdraw":{"acct_num":13,"amount":{"INK":87435.853423,"DPY":5801.380413,"MT":203931.115636,"ETH":20.939805,"TCT":130200,"GNX":4788.4}},"deposit":{"acct_num":22,"amount":{"ETH":49.741265,"INK":96179.77,"MT":11720,"BTC":27.26,"CYB":0.00001,"DPY":1}},"file_order":{"accts_num":82,"paysDic":{"CYB":202626.17104,"EOS":14343.431045,"PAY":25105.08902,"ETH":259.593448,"SNT":268781.392581,"MT":49.989},"receivesDic":{"EOS":14343.431045,"CYB":202626.17104,"PAY":25105.08902,"ETH":259.593448,"SNT":268781.392581,"MT":49.989}},"active_num":113,"created_num":184}},{"day":"2018-06-02","data":{"withdraw":{"acct_num":38,"amount":{"ETH":58.293207,"INK":81727.10664,"GET":20493.147935,"DPY":6609,"MT":119961.05171,"GNX":17}},"deposit":{"acct_num":14,"amount":{"MT":511018.041,"ETH":25.771199,"USDT":508.8371,"INK":11090,"GNX":20}},"file_order":{"accts_num":84,"paysDic":{"CYB":201340.02148,"SNT":255838.12723,"EOS":14282.04226,"ETH":269.571046,"PAY":26847.909029,"MT":1122.047655},"receivesDic":{"SNT":255838.12723,"CYB":201340.02148,"EOS":14282.04226,"ETH":269.571046,"PAY":26847.909029,"MT":1122.047655}},"active_num":129,"created_num":122}},{"day":"2018-06-03","data":{"withdraw":{"acct_num":10,"amount":{"ETH":24.039539,"DPY":667.145334,"INK":15212.67224,"MT":18050.617466,"TCT":8858}},"deposit":{"acct_num":10,"amount":{"ETH":56.60107,"USDT":200,"MT":181235,"BTC":20}},"file_order":{"accts_num":83,"paysDic":{"CYB":132075.84416,"PAY":27086.301155,"SNT":253416.239944,"MT":4999.399344,"ETH":90.243117,"EOS":3597.239133},"receivesDic":{"PAY":27086.301155,"CYB":132075.84416,"SNT":253416.239944,"MT":4999.399344,"EOS":3597.239133,"ETH":90.243117}},"active_num":100,"created_num":360}},{"day":"2018-06-04","data":{"withdraw":{"acct_num":21,"amount":{"ETH":26.784102,"MT":627209.515078,"INK":37831.52,"DPY":18210}},"deposit":{"acct_num":17,"amount":{"ETH":48.299579,"MT":383428,"CYB":0.00002,"USDT":1946.412593,"INK":11490,"GNX":4.8,"GET":10406.287978}},"file_order":{"accts_num":69,"paysDic":{"ETH":242.165067,"CYB":471286.16525,"PAY":26852.712945,"MT":13254.98386,"SNT":104712.806219},"receivesDic":{"CYB":471286.16525,"ETH":242.165067,"PAY":26852.712945,"MT":13254.98386,"SNT":104712.806219}},"active_num":93,"created_num":1113}},{"day":"2018-06-05","data":{"withdraw":{"acct_num":14,"amount":{"INK":230951,"ETH":81.186001,"DPY":813.359999,"GNX":1477,"MT":21689}},"deposit":{"acct_num":16,"amount":{"ETH":59.032329,"BTC":30.018,"MT":251927.989,"GET":80,"INK":99980,"CYB":0.00111,"DPY":1044.98,"KNC":2.12}},"file_order":{"accts_num":19,"paysDic":{"ETH":757.250876,"CYB":1179775.02201},"receivesDic":{"CYB":1179775.02201,"ETH":757.250876}},"active_num":39,"created_num":312}},{"day":"2018-06-06","data":{"withdraw":{"acct_num":12,"amount":{"ETH":41.201919,"INK":91603.661625,"MT":379928.921714}},"deposit":{"acct_num":6,"amount":{"KEY":63083.619199,"ETH":14.754156,"GNX":5,"MT":223419}},"file_order":{"accts_num":255,"paysDic":{"ETH":138.980128,"MT":3062760.749944,"GET":84330.736821,"CYB":24816.80998,"PAY":832.512255,"ENG":382.000929,"KNC":562.435759,"BAT":2778.614617,"OMG":68.818924,"VEN":304.299403,"SNT":7993.709279,"EOS":117.174891,"NAS":108.632134},"receivesDic":{"MT":3062760.749944,"ETH":138.980128,"GET":84330.736821,"PAY":832.512255,"CYB":24816.80998,"ENG":382.000929,"KNC":562.435759,"BAT":2778.614617,"OMG":68.818924,"VEN":304.299403,"SNT":7993.709279,"EOS":117.174891,"NAS":108.632134}},"active_num":268,"created_num":72}},{"day":"2018-06-07","data":{"withdraw":{"acct_num":26,"amount":{"ETH":69.742395,"GNX":2509.420482,"INK":7853,"MT":2129,"BTC":0.05714534}},"deposit":{"acct_num":18,"amount":{"INK":39375,"ETH":28.251536,"USDT":3000,"BTC":45,"GNX":50057.16,"GET":14873.53,"KEY":219400.074718,"CYB":0.00001}},"file_order":{"accts_num":69,"paysDic":{"CYB":1544138.91339,"ETH":1186.836024,"MT":5263126.510279,"GET":166536.206991},"receivesDic":{"ETH":1186.836024,"CYB":1544138.91339,"MT":5263126.510279,"GET":166536.206991}},"active_num":96,"created_num":24}},{"day":"2018-06-08","data":{"withdraw":{"acct_num":28,"amount":{"ETH":74.64244,"INK":3380,"DPY":117.2,"GNX":1774.479,"MT":100964.848792,"TCT":199758.9,"KEY":60558}},"deposit":{"acct_num":11,"amount":{"ETH":10.396101,"MT":546794.038,"GNX":52.15,"USDT":3013.6281,"CYB":0.00001}},"file_order":{"accts_num":71,"paysDic":{"MT":5618237.308966,"ETH":1292.770561,"CYB":1726782.11625},"receivesDic":{"ETH":1292.770561,"MT":5618237.308966,"CYB":1726782.11625}},"active_num":92,"created_num":20}},{"day":"2018-06-09","data":{"withdraw":{"acct_num":13,"amount":{"ETH":42.127851,"BTC":4.41132188,"GNX":326.489725,"USDT":1548.97871}},"deposit":{"acct_num":9,"amount":{"ETH":18.95691,"MT":680681.3904}},"file_order":{"accts_num":48,"paysDic":{"MT":11605244.134465,"ETH":466.868811,"CYB":24416.90993},"receivesDic":{"ETH":466.868811,"MT":11605244.134465,"CYB":24416.90993}},"active_num":61,"created_num":10}},{"day":"2018-06-10","data":{"withdraw":{"acct_num":17,"amount":{"GNX":3640.16,"INK":79851.76,"ETH":29.223779,"OMG":9.774274}},"deposit":{"acct_num":13,"amount":{"BTC":20.0827,"ETH":41.776049,"CYB":0.00001,"MT":1128}},"file_order":{"accts_num":42,"paysDic":{"ETH":57.293788,"EOS":340.542104,"CYB":0.6,"MT":1287925.219652},"receivesDic":{"EOS":340.542104,"ETH":57.293788,"MT":1287925.219652,"CYB":0.6}},"active_num":68,"created_num":14}},{"day":"2018-06-11","data":{"withdraw":{"acct_num":22,"amount":{"ETH":70.102467,"INK":42267.433616,"MT":43784.7,"KEY":40907.5,"GNX":29304.574995,"TCT":999999}},"deposit":{"acct_num":15,"amount":{"ETH":41.12199,"INK":133273.8502,"USDT":1690,"MT":432191.789273,"KEY":40908,"CYB":0.00001}},"file_order":{"accts_num":54,"paysDic":{"EOS":8147.566752,"ETH":271.126678,"MT":3199610.544702,"CYB":29998.82474},"receivesDic":{"ETH":271.126678,"EOS":8147.566752,"CYB":29998.82474,"MT":3199610.544702}},"active_num":81,"created_num":38}},{"day":"2018-06-12","data":{"withdraw":{"acct_num":7,"amount":{"INK":62237,"GNX":128,"ETH":19.010507,"TCT":499999}},"deposit":{"acct_num":7,"amount":{"ETH":12.0175,"INK":14960,"BTC":0.075,"MT":105043.771}},"file_order":{"accts_num":20,"paysDic":{"EOS":2010.937444,"ETH":42.182869},"receivesDic":{"ETH":42.182869,"EOS":2010.937444}},"active_num":31,"created_num":12}}])
//   console.log(s)
// }
// test()
module.exports = {
  json2csv
}